{% load static %}
{% load i18n %}

<span class="badge role-badge me-1 mb-1" 
      data-role-color="{{ role.color|default:'#6c757d' }}"
      data-bs-toggle="tooltip" 
      data-bs-placement="top" 
      title="{{ role.description|default:role.name }}">
    {% if role.is_system_role %}
        <i class="fas fa-cog me-1"></i>
    {% endif %}
    {{ role.name }}
    {% if show_permissions_count %}
        <span class="badge bg-light text-dark ms-1">{{ role.permissions.count }}</span>
    {% endif %}
</span>

<style>
.role-badge {
    color: white !important;
    background-color: #6c757d; /* Color por defecto */
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Aplicar colores dinÃ¡micos a los badges de roles
    document.querySelectorAll('.role-badge').forEach(badge => {
        const color = badge.getAttribute('data-role-color');
        if (color) {
            badge.style.backgroundColor = color;
        }
    });
});
</script>